(this.webpackJsonpfindnearbyplaces=this.webpackJsonpfindnearbyplaces||[]).push([[0],{49:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(22),r=n.n(c),s=n(12),l=n(2),i=n(6),o=n.n(i),u=n(7),j=n(3),b=n(23),d=n.n(b).a.create({baseURL:"https://calvinl345-findnearbyplaces.herokuapp.com/api/restaurants"}),h=n(24),O=n(0),p=Object(a.createContext)(),x=function(e){var t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(null),l=Object(j.a)(s,2),i=l[0],o=l[1];return Object(O.jsx)(p.Provider,{value:{restaurants:c,setRestaurants:r,addRestaurants:function(e){r([].concat(Object(h.a)(c),[e]))},selectedRestaurant:i,setSelectedRestaurant:o},children:e.children})},f=function(){var e=Object(a.useContext)(p).addRestaurants,t=Object(a.useState)(""),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),l=Object(j.a)(s,2),i=l[0],b=l[1],h=Object(a.useState)(""),x=Object(j.a)(h,2),f=x[0],m=x[1],v=function(){var t=Object(u.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,d.post("/create",{name:c,location:i,rating:f});case 4:a=t.sent,console.log(a),e(a.data.data.restaurant),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"mb-4",children:Object(O.jsx)("form",{action:"",children:Object(O.jsxs)("div",{className:"form-row",children:[Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("input",{value:c,onChange:function(e){return r(e.target.value)},type:"text",className:"form-control",placeholder:"name"})}),Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("input",{value:i,onChange:function(e){return b(e.target.value)},type:"text",className:"form-control",placeholder:"location"})}),Object(O.jsx)("div",{className:"col",children:Object(O.jsx)("input",{value:f,onChange:function(e){return m(e.target.value)},type:"text",className:"form-control",placeholder:"rating"})}),Object(O.jsx)("button",{onClick:v,type:"submit",className:"btn btn-primary",children:"Add"})]})})})};var m=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("h1",{className:"font-weight-light display-1 text-center",children:"Yelp Clone"})})},v=function(e){var t=Object(a.useContext)(p),n=t.restaurants,c=t.setRestaurants,r=Object(l.f)();Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.get("/");case 3:t=e.sent,c(t.data.data.restaurants),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var s=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.delete("/".concat(t));case 3:e.sent,c(n.filter((function(e){return e.id!==t}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"list-group",children:Object(O.jsxs)("table",{className:"table table-bordered",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"bg-primary",children:[Object(O.jsx)("th",{scope:"col",children:"Restaurant"}),Object(O.jsx)("th",{scope:"col",children:"Location"}),Object(O.jsx)("th",{scope:"col",children:"Ratings"}),Object(O.jsx)("th",{scope:"col",children:"Edit"}),Object(O.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(O.jsx)("tbody",{children:n&&n.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.name}),Object(O.jsx)("td",{children:e.location}),Object(O.jsx)("td",{children:e.rating}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{onClick:function(){return t=e.id,void r("/restaurants/".concat(t,"/update"));var t},className:"btn btn-info",children:"Update"})}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{onClick:function(){return s(e.id)},className:"btn btn-danger",children:"Delete"})})]},e.id)}))})]})})},g=function(){return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(m,{}),Object(O.jsx)(f,{}),Object(O.jsx)(v,{})]})},N=function(e){var t=Object(l.g)().id,n=Object(l.f)(),c=Object(a.useState)(""),r=Object(j.a)(c,2),s=r[0],i=r[1],b=Object(a.useState)(""),h=Object(j.a)(b,2),p=h[0],x=h[1],f=Object(a.useState)(""),m=Object(j.a)(f,2),v=m[0],g=m[1];Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/".concat(t));case 2:n=e.sent,console.log(n.data.data),i(n.data.data.restaurant.name),x(n.data.data.restaurant.location),g(n.data.data.restaurant.rating);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var N=function(){var e=Object(u.a)(o.a.mark((function e(a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,d.put("/".concat(t),{name:s,location:p,rating:v});case 3:c=e.sent,console.log(c),n("/findnearbyplaces");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{action:"",children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"name",children:"Name"}),Object(O.jsx)("input",{value:s,onChange:function(e){return i(e.target.value)},placeholder:s,id:"name",className:"form-control",type:"text"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"location",children:"Location"}),Object(O.jsx)("input",{value:p,onChange:function(e){return x(e.target.value)},placeholder:p,id:"location",className:"form-control",type:"text"})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"rating",children:"Rating"}),Object(O.jsx)("input",{value:v,onChange:function(e){return g(e.target.value)},placeholder:v,id:"rating",className:"form-control",type:"number"})]}),Object(O.jsx)("button",{type:"submit",onClick:N,className:"btn btn-primary",children:"Submit"})]})})},y=function(){return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h1",{className:"text-center",children:"Update Restaurant"}),Object(O.jsx)(N,{})]})},k=function(){return Object(O.jsx)("div",{children:"Detail Page"})},w=function(){return Object(O.jsx)(x,{children:Object(O.jsx)("div",{children:Object(O.jsx)(s.a,{children:Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{exact:!0,path:"/findnearbyplaces",element:Object(O.jsx)(g,{})}),Object(O.jsx)(l.a,{exact:!0,path:"/restaurants/:id/update",element:Object(O.jsx)(y,{})}),Object(O.jsx)(l.a,{exact:!0,path:"/restaurants/:id",element:Object(O.jsx)(k,{})})]})})})})};r.a.render(Object(O.jsx)(w,{}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.e2872adb.chunk.js.map